<!DOCTYPE HTML>

<html>
<head>
<title>Sign up</title>
 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
  <link href='https://fonts.googleapis.com/css?family=Roboto:300,400,700' rel='stylesheet' type='text/css'>
<link rel="stylesheet" type="text/css" href="/ui/signup.css">
</head>
<body>
    <header class="container">
    <div class="row">
     <h1 class="col-sm-4">Sign up</h1>
      <nav class="col-sm-8 text-right">
         <p> <a href="http://kiranmai15.imad.hasura-app.io/loginform">Log in</a></p>
       </nav>
     </div>
    </header>
   
    
<section class="jumbotron">
    <div class="container">
      <div class="row text-center">
           <div class="register">
              <form>
               First name<br>
               <input type="text" id="firstname" placeholder="enter your firstname" />
               <br>
               Surname<br>
               <input type="text" id="surname" placeholder="enter your lastname" />
               <br>
               Username<br>
               <input type="text" id="username" placeholder="enter your username" />
               <br>
                Password<br>
                <input type="password" id="password" />
                <br>
                Email-Address<br>
                <input type="text" id="email" placeholder="email@gmail.com" />
                <br>
                 <input type="submit" id="register_btn" value="Register" />
                 </form>
               </div>
      <script>
        var register = document.getElementById('register_btn');
         register.onclick = function () {
        // Create a request object
            var request = new XMLHttpRequest();
        
        // Capture the response and store it in a variable
                 request.onreadystatechange = function () {
                  if (request.readyState === XMLHttpRequest.DONE) {
              // Take some action
                      if (request.status === 200) {
                        alert('User created successfully');
                        register.value = 'Registered!';
                      } else {
                           alert('Could not register the user');
                             register.value = 'Register';
                      }
                     }
                 };
        
        // Make the request
        var firstname = document.getElementById('firstname').value;
        var surname = document.getElementById('surname').value;
        var username = document.getElementById('username').value;
        var password = document.getElementById('password').value;
        var email = document.getElementById('email').value;
        console.log(username);
        console.log(password);
        request.open('POST', '/create-user', true);
        request.setRequestHeader('Content-Type', 'application/json');
        request.send(JSON.stringify({firstname: firstname, surname: surname, username: username, password: password, email: email}));  
        register.value = 'Registering...';
    
};
</script>
</div>
    </div>
</section>
 <footer class="container">
        <div class="row text-center">
            <p>&copy; 2016 Novice E-Learning</p>
        </div>
 </footer>

</body>
</html>