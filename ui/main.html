<!doctype html>
<html>
    <head>
    <title>Home</title>
   <meta charset="utf-8"/>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
  <link href='https://fonts.googleapis.com/css?family=Roboto:300,400,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" type="text/css" href="/ui/main.css">
    </head>
    <body>
     <header class="container">
    <div class="row">
     <h1 class="col-sm-4">Novice E-Learning</h1>
      <nav class="col-sm-8 text-right">
        <p>Sign up</p>
        <p><a href="http://kiranmai15.imad.hasura-app.io/index" target="_blank">Log in</a></p>
         <p><a href="http://kiranmai15.imad.hasura-app.io/index" target="_blank">About Me</a></p>
      </nav>
      </div>
    </header>
  <section class="jumbotron">
    <div class="container">
      <div class="row text-center">
<h3>Log in to unlock awesome features</h3>
<div class="login">
<input type="text" id="username" placeholder="username" />
<input type="password" id="password" />
<input type="submit" id="submit_btn" />
</div>
        <h2>Computer Science & Engineering</h2>
        <h3>e-Courses</h3>
<div class="dropdown">
  <button onclick="myFunction()" class="dropbtn">Select a course</button>
  <div id="myDropdown" class="dropdown-content">
    <a href="http://kiranmai15.imad.hasura-app.io/article-one">Core Java</a>
    <a href="#">Operating Systems</a>
  </div>
</div>
        </div>
      </div>
    </section>
     <footer class="container">
        <div class="row text-center">
            <p>&copy;Novice E-Learning</p>
            </div>
        </footer>
     <script>
     // Submit username/password to login
    var submit = document.getElementById('submit_btn');
    submit.onclick = function () {
        // Create a request object
        var request = new XMLHttpRequest();
        
        // Capture the response and store it in a variable
        request.onreadystatechange = function () {
          if (request.readyState === XMLHttpRequest.DONE) {
              // Take some action
              if (request.status === 200) {
                  console.log("user loggin in");
                  alert("Logge in Successfully");
              }else if(request.status === 403){
                  alert("Username/Password is incorrect");
              }else if(request.status === 500){
                  alert("Something went wrong on server");
              }
          }
        };
                  
 // Make the request
        var username = document.getElementById('username').value;
        var password = document.getElementById('password').value;
        console.log(username);
        console.log(password);
        request.open('POST', '/login', true);
        request.setRequestHeader('Content-Type', 'application/json');
        request.send(JSON.stringify({username: username, password: password})); 
};
    /* When the user clicks on the button,
toggle between hiding and showing the dropdown content */
function myFunction() {
    document.getElementById("myDropdown").classList.toggle("show");
}

// Close the dropdown menu if the user clicks outside of it
window.onclick = function(event) {
  if (!event.target.matches('.dropbtn')) {

    var dropdowns = document.getElementsByClassName("dropdown-content");
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
}
    </script>

  </body>
    </html>
